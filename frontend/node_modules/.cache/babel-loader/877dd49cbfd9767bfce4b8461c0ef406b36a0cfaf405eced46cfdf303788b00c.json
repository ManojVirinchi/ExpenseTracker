{"ast":null,"code":"var _jsxFileName = \"/Users/manojvirinchichitta/ExpenseTracker/frontend/src/context/ExpenseContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect, useMemo, useCallback } from 'react';\nimport { expenseAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExpenseContext = /*#__PURE__*/createContext();\nconst initialState = {\n  transactions: [],\n  analytics: {\n    weekly: null,\n    monthly: null,\n    categories: null,\n    calendar: null,\n    summary: null\n  },\n  loading: false,\n  error: null,\n  selectedTransactions: [],\n  committedTransactions: [],\n  currentMonth: new Date().getMonth() + 1,\n  currentYear: new Date().getFullYear()\n};\nfunction expenseReducer(state, action) {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: action.payload\n      };\n    case 'SET_ERROR':\n      return {\n        ...state,\n        error: action.payload,\n        loading: false\n      };\n    case 'SET_TRANSACTIONS':\n      return {\n        ...state,\n        transactions: action.payload,\n        loading: false\n      };\n    case 'ADD_TRANSACTIONS':\n      return {\n        ...state,\n        transactions: [...state.transactions, ...action.payload]\n      };\n    case 'SET_ANALYTICS':\n      return {\n        ...state,\n        analytics: {\n          ...state.analytics,\n          ...action.payload\n        }\n      };\n    case 'SET_SELECTED_TRANSACTIONS':\n      return {\n        ...state,\n        selectedTransactions: action.payload\n      };\n    case 'TOGGLE_SELECTED_TRANSACTION':\n      {\n        const getKey = x => {\n          var _x$id;\n          return x && ((_x$id = x.id) !== null && _x$id !== void 0 ? _x$id : `${x.date}|${x.description}|${x.amount}`);\n        };\n        const targetKey = getKey(action.payload);\n        const exists = state.selectedTransactions.find(t => getKey(t) === targetKey);\n        const next = exists ? state.selectedTransactions.filter(t => getKey(t) !== targetKey) : [...state.selectedTransactions, action.payload];\n        return {\n          ...state,\n          selectedTransactions: next\n        };\n      }\n    case 'CLEAR_SELECTED_TRANSACTIONS':\n      return {\n        ...state,\n        selectedTransactions: []\n      };\n    case 'COMMIT_SELECTED_TRANSACTIONS':\n      return {\n        ...state,\n        committedTransactions: action.payload,\n        selectedTransactions: []\n      };\n    case 'SET_CALENDAR_MONTH':\n      return {\n        ...state,\n        currentMonth: action.payload.month,\n        currentYear: action.payload.year\n      };\n    case 'CLEAR_ERROR':\n      return {\n        ...state,\n        error: null\n      };\n    default:\n      return state;\n  }\n}\nexport function ExpenseProvider({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(expenseReducer, initialState);\n  const loadTransactions = async () => {\n    dispatch({\n      type: 'SET_LOADING',\n      payload: true\n    });\n    try {\n      const response = await expenseAPI.getTransactions();\n      dispatch({\n        type: 'SET_TRANSACTIONS',\n        payload: response.data\n      });\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n    }\n  };\n  const loadAnalytics = async () => {\n    try {\n      const [weekly, monthly, categories, summary] = await Promise.all([expenseAPI.getWeeklyAnalytics(), expenseAPI.getMonthlyAnalytics(), expenseAPI.getCategoryAnalytics(), expenseAPI.getSpendingSummary()]);\n      dispatch({\n        type: 'SET_ANALYTICS',\n        payload: {\n          weekly: weekly.data,\n          monthly: monthly.data,\n          categories: categories.data,\n          summary: summary.data\n        }\n      });\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n    }\n  };\n  const loadCalendarData = async (year, month) => {\n    try {\n      const response = await expenseAPI.getCalendarData(year, month);\n      dispatch({\n        type: 'SET_ANALYTICS',\n        payload: {\n          calendar: response.data\n        }\n      });\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n    }\n  };\n  const saveTransactions = async transactions => {\n    try {\n      const response = await expenseAPI.saveTransactions(transactions);\n      dispatch({\n        type: 'ADD_TRANSACTIONS',\n        payload: response.data\n      });\n      return response.data;\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n      throw error;\n    }\n  };\n  const clearAllTransactions = async () => {\n    try {\n      await expenseAPI.deleteAllTransactions();\n      dispatch({\n        type: 'SET_TRANSACTIONS',\n        payload: []\n      });\n      dispatch({\n        type: 'CLEAR_SELECTED_TRANSACTIONS'\n      });\n      dispatch({\n        type: 'COMMIT_SELECTED_TRANSACTIONS',\n        payload: []\n      });\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n      throw error;\n    }\n  };\n  const uploadFile = async file => {\n    dispatch({\n      type: 'SET_LOADING',\n      payload: true\n    });\n    try {\n      const response = await expenseAPI.uploadFile(file);\n      dispatch({\n        type: 'SET_LOADING',\n        payload: false\n      });\n      return response.data;\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n      throw error;\n    }\n  };\n  const toggleMyItem = useCallback(transaction => {\n    const now = new Date();\n    const period = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;\n    const stored = localStorage.getItem('myItemsPeriod');\n    if (stored !== period) {\n      dispatch({\n        type: 'CLEAR_SELECTED_TRANSACTIONS'\n      });\n      localStorage.setItem('myItemsPeriod', period);\n    }\n    dispatch({\n      type: 'TOGGLE_SELECTED_TRANSACTION',\n      payload: transaction\n    });\n  }, []);\n  const clearMyItems = useCallback(() => {\n    dispatch({\n      type: 'CLEAR_SELECTED_TRANSACTIONS'\n    });\n  }, []);\n  const commitMyItems = useCallback(async () => {\n    // Persist ALL selected items, then refresh from DB\n    const itemsToSave = state.selectedTransactions;\n    if (itemsToSave.length === 0) {\n      dispatch({\n        type: 'COMMIT_SELECTED_TRANSACTIONS',\n        payload: []\n      });\n      return;\n    }\n    try {\n      await expenseAPI.saveTransactions(itemsToSave);\n      // Mark committed in local state for display\n      dispatch({\n        type: 'COMMIT_SELECTED_TRANSACTIONS',\n        payload: itemsToSave\n      });\n      // Refresh DB-backed views\n      await Promise.all([loadTransactions(), loadAnalytics()]);\n      // Clear selections after successful save\n      dispatch({\n        type: 'CLEAR_SELECTED_TRANSACTIONS'\n      });\n    } catch (e) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: (e === null || e === void 0 ? void 0 : e.message) || 'Failed to save selected items'\n      });\n      throw e;\n    }\n  }, [state.selectedTransactions]);\n  const myItemsThisMonthTotal = useMemo(() => {\n    const now = new Date();\n    const month = now.getMonth() + 1;\n    const year = now.getFullYear();\n    return state.committedTransactions.filter(t => {\n      if (!t.date) return false;\n      // Expecting YYYY-MM-DD\n      const [y, m] = String(t.date).split('-').map(v => parseInt(v, 10));\n      return y === year && m === month;\n    }).reduce((sum, t) => sum + (Number(t.amount) || 0), 0);\n  }, [state.committedTransactions]);\n  useEffect(() => {\n    loadTransactions();\n    loadAnalytics();\n  }, []);\n\n  // Clear selections when the month changes and set current period marker\n  useEffect(() => {\n    const now = new Date();\n    const period = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;\n    const stored = localStorage.getItem('myItemsPeriod');\n    if (stored !== period) {\n      dispatch({\n        type: 'CLEAR_SELECTED_TRANSACTIONS'\n      });\n      localStorage.setItem('myItemsPeriod', period);\n    }\n  }, []);\n  const value = {\n    ...state,\n    loadTransactions,\n    loadAnalytics,\n    loadCalendarData,\n    saveTransactions,\n    uploadFile,\n    dispatch,\n    toggleMyItem,\n    clearMyItems,\n    commitMyItems,\n    myItemsThisMonthTotal,\n    clearAllTransactions\n  };\n  return /*#__PURE__*/_jsxDEV(ExpenseContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n}\n_s(ExpenseProvider, \"yR33iOs6TUmEPYMFbSDcOVivBRY=\");\n_c = ExpenseProvider;\nexport function useExpense() {\n  _s2();\n  const context = useContext(ExpenseContext);\n  if (!context) {\n    throw new Error('useExpense must be used within an ExpenseProvider');\n  }\n  return context;\n}\n_s2(useExpense, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"ExpenseProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","useMemo","useCallback","expenseAPI","jsxDEV","_jsxDEV","ExpenseContext","initialState","transactions","analytics","weekly","monthly","categories","calendar","summary","loading","error","selectedTransactions","committedTransactions","currentMonth","Date","getMonth","currentYear","getFullYear","expenseReducer","state","action","type","payload","getKey","x","_x$id","id","date","description","amount","targetKey","exists","find","t","next","filter","month","year","ExpenseProvider","children","_s","dispatch","loadTransactions","response","getTransactions","data","message","loadAnalytics","Promise","all","getWeeklyAnalytics","getMonthlyAnalytics","getCategoryAnalytics","getSpendingSummary","loadCalendarData","getCalendarData","saveTransactions","clearAllTransactions","deleteAllTransactions","uploadFile","file","toggleMyItem","transaction","now","period","String","padStart","stored","localStorage","getItem","setItem","clearMyItems","commitMyItems","itemsToSave","length","e","myItemsThisMonthTotal","y","m","split","map","v","parseInt","reduce","sum","Number","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useExpense","_s2","context","Error","$RefreshReg$"],"sources":["/Users/manojvirinchichitta/ExpenseTracker/frontend/src/context/ExpenseContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect, useMemo, useCallback } from 'react';\nimport { expenseAPI } from '../services/api';\n\nconst ExpenseContext = createContext();\n\nconst initialState = {\n  transactions: [],\n  analytics: {\n    weekly: null,\n    monthly: null,\n    categories: null,\n    calendar: null,\n    summary: null\n  },\n  loading: false,\n  error: null,\n  selectedTransactions: [],\n  committedTransactions: [],\n  currentMonth: new Date().getMonth() + 1,\n  currentYear: new Date().getFullYear()\n};\n\nfunction expenseReducer(state, action) {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return { ...state, loading: action.payload };\n    case 'SET_ERROR':\n      return { ...state, error: action.payload, loading: false };\n    case 'SET_TRANSACTIONS':\n      return { ...state, transactions: action.payload, loading: false };\n    case 'ADD_TRANSACTIONS':\n      return { ...state, transactions: [...state.transactions, ...action.payload] };\n    case 'SET_ANALYTICS':\n      return { ...state, analytics: { ...state.analytics, ...action.payload } };\n    case 'SET_SELECTED_TRANSACTIONS':\n      return { ...state, selectedTransactions: action.payload };\n    case 'TOGGLE_SELECTED_TRANSACTION': {\n      const getKey = (x) => (x && (x.id ?? `${x.date}|${x.description}|${x.amount}`));\n      const targetKey = getKey(action.payload);\n      const exists = state.selectedTransactions.find((t) => getKey(t) === targetKey);\n      const next = exists\n        ? state.selectedTransactions.filter((t) => getKey(t) !== targetKey)\n        : [...state.selectedTransactions, action.payload];\n      return { ...state, selectedTransactions: next };\n    }\n    case 'CLEAR_SELECTED_TRANSACTIONS':\n      return { ...state, selectedTransactions: [] };\n    case 'COMMIT_SELECTED_TRANSACTIONS':\n      return { ...state, committedTransactions: action.payload, selectedTransactions: [] };\n    case 'SET_CALENDAR_MONTH':\n      return { ...state, currentMonth: action.payload.month, currentYear: action.payload.year };\n    case 'CLEAR_ERROR':\n      return { ...state, error: null };\n    default:\n      return state;\n  }\n}\n\nexport function ExpenseProvider({ children }) {\n  const [state, dispatch] = useReducer(expenseReducer, initialState);\n\n  const loadTransactions = async () => {\n    dispatch({ type: 'SET_LOADING', payload: true });\n    try {\n      const response = await expenseAPI.getTransactions();\n      dispatch({ type: 'SET_TRANSACTIONS', payload: response.data });\n    } catch (error) {\n      dispatch({ type: 'SET_ERROR', payload: error.message });\n    }\n  };\n\n  const loadAnalytics = async () => {\n    try {\n      const [weekly, monthly, categories, summary] = await Promise.all([\n        expenseAPI.getWeeklyAnalytics(),\n        expenseAPI.getMonthlyAnalytics(),\n        expenseAPI.getCategoryAnalytics(),\n        expenseAPI.getSpendingSummary()\n      ]);\n      \n      dispatch({\n        type: 'SET_ANALYTICS',\n        payload: {\n          weekly: weekly.data,\n          monthly: monthly.data,\n          categories: categories.data,\n          summary: summary.data\n        }\n      });\n    } catch (error) {\n      dispatch({ type: 'SET_ERROR', payload: error.message });\n    }\n  };\n\n  const loadCalendarData = async (year, month) => {\n    try {\n      const response = await expenseAPI.getCalendarData(year, month);\n      dispatch({\n        type: 'SET_ANALYTICS',\n        payload: { calendar: response.data }\n      });\n    } catch (error) {\n      dispatch({ type: 'SET_ERROR', payload: error.message });\n    }\n  };\n\n  const saveTransactions = async (transactions) => {\n    try {\n      const response = await expenseAPI.saveTransactions(transactions);\n      dispatch({ type: 'ADD_TRANSACTIONS', payload: response.data });\n      return response.data;\n    } catch (error) {\n      dispatch({ type: 'SET_ERROR', payload: error.message });\n      throw error;\n    }\n  };\n\n  const clearAllTransactions = async () => {\n    try {\n      await expenseAPI.deleteAllTransactions();\n      dispatch({ type: 'SET_TRANSACTIONS', payload: [] });\n      dispatch({ type: 'CLEAR_SELECTED_TRANSACTIONS' });\n      dispatch({ type: 'COMMIT_SELECTED_TRANSACTIONS', payload: [] });\n    } catch (error) {\n      dispatch({ type: 'SET_ERROR', payload: error.message });\n      throw error;\n    }\n  };\n\n  const uploadFile = async (file) => {\n    dispatch({ type: 'SET_LOADING', payload: true });\n    try {\n      const response = await expenseAPI.uploadFile(file);\n      dispatch({ type: 'SET_LOADING', payload: false });\n      return response.data;\n    } catch (error) {\n      dispatch({ type: 'SET_ERROR', payload: error.message });\n      throw error;\n    }\n  };\n\n  const toggleMyItem = useCallback((transaction) => {\n    const now = new Date();\n    const period = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;\n    const stored = localStorage.getItem('myItemsPeriod');\n    if (stored !== period) {\n      dispatch({ type: 'CLEAR_SELECTED_TRANSACTIONS' });\n      localStorage.setItem('myItemsPeriod', period);\n    }\n    dispatch({ type: 'TOGGLE_SELECTED_TRANSACTION', payload: transaction });\n  }, []);\n\n  const clearMyItems = useCallback(() => {\n    dispatch({ type: 'CLEAR_SELECTED_TRANSACTIONS' });\n  }, []);\n\n  const commitMyItems = useCallback(async () => {\n    // Persist ALL selected items, then refresh from DB\n    const itemsToSave = state.selectedTransactions;\n\n    if (itemsToSave.length === 0) {\n      dispatch({ type: 'COMMIT_SELECTED_TRANSACTIONS', payload: [] });\n      return;\n    }\n\n    try {\n      await expenseAPI.saveTransactions(itemsToSave);\n      // Mark committed in local state for display\n      dispatch({ type: 'COMMIT_SELECTED_TRANSACTIONS', payload: itemsToSave });\n      // Refresh DB-backed views\n      await Promise.all([loadTransactions(), loadAnalytics()]);\n      // Clear selections after successful save\n      dispatch({ type: 'CLEAR_SELECTED_TRANSACTIONS' });\n    } catch (e) {\n      dispatch({ type: 'SET_ERROR', payload: e?.message || 'Failed to save selected items' });\n      throw e;\n    }\n  }, [state.selectedTransactions]);\n\n  const myItemsThisMonthTotal = useMemo(() => {\n    const now = new Date();\n    const month = now.getMonth() + 1;\n    const year = now.getFullYear();\n    return state.committedTransactions\n      .filter((t) => {\n        if (!t.date) return false;\n        // Expecting YYYY-MM-DD\n        const [y, m] = String(t.date).split('-').map((v) => parseInt(v, 10));\n        return y === year && m === month;\n      })\n      .reduce((sum, t) => sum + (Number(t.amount) || 0), 0);\n  }, [state.committedTransactions]);\n\n  useEffect(() => {\n    loadTransactions();\n    loadAnalytics();\n  }, []);\n\n  // Clear selections when the month changes and set current period marker\n  useEffect(() => {\n    const now = new Date();\n    const period = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;\n    const stored = localStorage.getItem('myItemsPeriod');\n    if (stored !== period) {\n      dispatch({ type: 'CLEAR_SELECTED_TRANSACTIONS' });\n      localStorage.setItem('myItemsPeriod', period);\n    }\n  }, []);\n\n  const value = {\n    ...state,\n    loadTransactions,\n    loadAnalytics,\n    loadCalendarData,\n    saveTransactions,\n    uploadFile,\n    dispatch,\n    toggleMyItem,\n    clearMyItems,\n    commitMyItems,\n    myItemsThisMonthTotal,\n    clearAllTransactions\n  };\n\n  return (\n    <ExpenseContext.Provider value={value}>\n      {children}\n    </ExpenseContext.Provider>\n  );\n}\n\nexport function useExpense() {\n  const context = useContext(ExpenseContext);\n  if (!context) {\n    throw new Error('useExpense must be used within an ExpenseProvider');\n  }\n  return context;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}